###### 211275022田昊东

#### R1

- 分组名称：数据报
- 根本区别：
  - 交换机是链路层的设备；路由器是网络层的设备。
  - 交换机主要用于在局域网内转发帧，维护mac地址与接口的对应关系；而路由器则是根据ip地址（前缀）使用ip地址表来进行转发数据报，在不同网络之间传递信息。
  - 因此路由器和交换机的作用范围和实现原理都有本质上的区别。

#### R23

- 使用`ipconfig`查询笔记本的信息
  - ip地址：`172.26.85.131`
  - 网络掩码：` 255.255.128.0`
  - 默认路由器ip地址：` 172.26.0.1`
  - 本地DNS服务器ip地址：`  210.28.129.251`、` 210.28.129.252`

#### R25

- 经查询，TCP报文段的头部固定占用20字节的空间
- 因此ip数据报的组成为：20字节ip头部长度（假设无可选字段）+20字节tcp报文段头部长度+40字节应用数据
- 每个数据报的开销为40字节；应用数据所占百分比为50%

#### R30

- 几乎完全相同的字段：

  - version：ip版本号

  - source address和destination address字段（不过长度和具体格式不同）
  - data：头部以外真正需要传输的数据

- 功能类似，但是名称和位置改变的字段：

  - total length<=>payload length：长度
  - type of service<=>traffic class：表示流量类型
  - time to live<=>hop limit：跳数限制
  - protocal<=>next header：表示继续解析所需要使用的协议

#### R31

- 同意：
  - 当IPv6通过IPv4隧道传输时，会将IPv6数据报封装在IPv4数据报中。
  - 也就是说途径的ipv4路由器不知道自己传输的网络层的ipv6数据报，因此也不应该把这这部分的传输视为网络层的一部分。
  - 因此隧道两端的ipv6路由器为网络层，而传输经过的隧道中的ipv4路由器可以看作比网络层更为底层的传输，因此可以将这种隧道视作链路层协议。

#### P8

- 子网一：
  - 2^5^-2=30<60<2^6^-2=62，主机号应为6位
  - 223.1.17.128/26（最后八位为10xxxxxx）
- 子网二：
  - 2^6^-2=62<90<2^7^-2=126，主机号应为7位
  - 223.1.17.0/25（最后八位为0xxxxxxx）
- 子网三：
  - 2^3^-2=6<12<2^4^-2=14，主机号应为4位
  - 223.1.17.224/28（最后八位为1110xxxx）

#### P12

- a:

  - a:
    - 2^7^-2=126<250<2^8^-2=254，主机号应为8位
    - 214.97.254.0/24-214.97.254.0/30
    - 254个主机号中取出4个用于给d分配
  - b:
    - 2^6^-2=62<120<2^7^-2=124，主机号应为7位
    - 214.97.255.0/25-214.97.255.0/30
    - 124个主机号中取出4个用于给e分配
  - c:
    - 2^6^-2=62<120<2^7^-2=124，主机号应为7位
    - 214.97.255.128/25-214.97.255.128/30
    - 124个主机号中取出4个用于给f分配
  - d:
    - 2^1^-2=0<2<=2^2^-2=2，主机号应为2位
    - 214.97.254.0/30
  - e:
    - 2^1^-2=0<2<=2^2^-2=2，主机号应为2位
    - 214.97.255.0/30
  - f:
    - 2^1^-2=0<2<=2^2^-2=2，主机号应为2位
    - 214.97.255.128/30

- b:

  - r1:

    - | 前缀                              | 接口 |
      | --------------------------------- | ---- |
      | 11010110 01100001 11111110 000000 | D    |
      | 11010110 01100001 11111111 100000 | F    |
      | 11010110 01100001 11111110        | A    |

  - r2:

    - | 前缀                              | 接口 |
      | --------------------------------- | ---- |
      | 11010110 01100001 11111110 000000 | D    |
      | 11010110 01100001 11111111 000000 | E    |
      | 11010110 01100001 11111111 0      | B    |

  - r3:

    - | 前缀                              | 接口 |
      | --------------------------------- | ---- |
      | 11010110 01100001 11111111 000000 | E    |
      | 11010110 01100001 11111111 100000 | F    |
      | 11010110 01100001 11111111 1      | C    |

#### P17

- a:
  - 由于每个主机发送的IP分组应该具有连续的标识号，因此可以通过捕捉nat发送的所有分组，根据标识号进行划分，将具有相邻（连续）标识号的分组划入一个集合，集合的数目就可以用于估计nat中主机的数目。
- b:
  - 不能。
  - 如果标识号不是连续分配的，那么也就不能根据划分后集合的数目来估计主机的数目，（集合数目可能远多于也可能少于主机的数目），两者之间不满足a中的关系，因此这种方法会失效。